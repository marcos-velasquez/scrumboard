<header class="section__header">
  <div>
    <h1 hlmH1>Personal Dashboard</h1>
    <h2 class="font-semibold">12 Boards</h2>
  </div>
  <div class="flex items-center gap-2 mt-4 sm:mt-0">
    <button routerLink=".." variant="secondary" hlmBtn>
      <hlm-icon class="mr-1" size="sm" name="lucideArrowLeft" />Back
    </button>
  </div>
</header>

<div class="flex-auto p-6 sm:p-8 sm:pt-4 overflow-y-auto" cdkScrollable>
  <div class="flex">
    <div class="flex items-start gap-3">
      @for(board of store.boards(); track board.id){
      <div class="flex-0 w-72 p-2 rounded-2xl bg-secondary text-secondary-foreground">
        <div class="flex items-center justify-between" cdkDragHandle>
          <div
            class="flex items-center w-full py-2 px-3 rounded-md cursor-text border border-transparent focus-within:bg-white focus-within:shadow-sm focus-within:border-primary dark:focus-within:bg-gray-900"
          >
            <input
              class="w-full font-medium leading-5 bg-transparent"
              [value]="board.title"
              [spellcheck]="'false'"
              #listTitleInput
            />
            <!--  <input
                class="w-full font-medium leading-5 bg-transparent"
                [spellcheck]="'false'"
                [value]="list.title"
                (focusout)="updateListTitle($event, list)"
                (keydown.enter)="listTitleInput.blur()"
                #listTitleInput> -->
          </div>
          <div
            class="flex items-center justify-center min-w-6 ml-4 text-sm font-semibold leading-6 rounded-full bg-primary text-primary-foreground"
          >
            12
            <!--  {{ list.cards.length }} -->
          </div>

          <!--   <div class="ml-1">
            <button class="w-8 h-8 min-h-8" mat-icon-button>
               <mat-icon
                    class="icon-size-5"
                    [svgIcon]="'heroicons_solid:ellipsis-vertical'"></mat-icon> 
            </button>
            <menu>
              <button>
                 <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:pencil-square'"></mat-icon> 
                Rename list
              </button>
              <button>
      <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:trash'"></mat-icon> 
                Delete list
              </button>
            </menu>
          </div> -->
        </div>

        <div class="mt-2 rounded-xl bg-gray-400 bg-opacity-12 dark:bg-transparent dark:border">
          <div
            class="p-3 pb-0"
            [id]="board.id"
            cdkDropList
            cdkDropList
            [cdkDropListData]="board.cards"
            (cdkDropListDropped)="cardDropped($event)"
          >
            <!-- Card -->

            @for(card of board.cards; track card){
            <a class="flex flex-col items-start mb-3 p-5 space-y-3 shadow rounded-lg overflow-hidden bg-card" cdkDrag>
              <!-- Title -->
              <div class="text-lg font-medium leading-5">aaa</div>

              <!-- Labels -->
              <!--     <ng-container *ngIf="card.labels.length">
                  <div>
                    <div class="flex flex-wrap -mx-1 -mb-2">
                      <ng-container *ngFor="let label of card.labels; trackBy: trackByFn">
                        <div
                          class="mx-1 mb-2 py-0.5 px-3 rounded-full text-sm font-medium text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700"
                        >
                          {{ label.title }}
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </ng-container> -->
              <!-- Due date -->
              <!--  <ng-container *ngIf="card.dueDate">
                  <div
                    class="flex items-center rounded text-sm font-medium leading-5 text-secondary"
                    [ngClass]="{ 'text-red-600': isOverdue(card.dueDate) }"
                  >
                    <mat-icon class="icon-size-4 text-current" [svgIcon]="'heroicons_outline:clock'"></mat-icon>
                    <div class="ml-1">
                      {{ card.dueDate | date : 'longDate' }}
                    </div>
                  </div>
                </ng-container> -->
            </a>
            }
          </div>

          <!-- New card -->
          <!--  <scrumboard-board-add-card
              (saved)="addCard(list, $event)"
              [buttonTitle]="list.cards.length ? 'Add another card' : 'Add a card'">
          </scrumboard-board-add-card> -->
        </div>
      </div>
      }

      <app-board-creator [scrumBoardId]="scrumBoardId"></app-board-creator>
    </div>
  </div>
</div>
